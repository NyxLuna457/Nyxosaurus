"use strict";(self.webpackChunkmy_tutorial_wiki=self.webpackChunkmy_tutorial_wiki||[]).push([[210],{7131:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Projet-Application-Python/Monitoring","title":"Monitoring complet d\'une application Python et MariaDB via Grafana/Prometheus","description":"Ce guide d\xe9taille comment monitorer\u202f:","source":"@site/docs/Projet-Application-Python/Monitoring.md","sourceDirName":"Projet-Application-Python","slug":"/Projet-Application-Python/Monitoring","permalink":"/Nyxosaurus/docs/Projet-Application-Python/Monitoring","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Projet-Application-Python/Monitoring.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"DNS ou Reverse Proxy ?","permalink":"/Nyxosaurus/docs/Projet-Application-Python/Dns-ou-Reverse-Proxy"},"next":{"title":"Mise en place d\'une logique CI/CD","permalink":"/Nyxosaurus/docs/Projet-Application-Python/Mise-en-place-CICD"}}');var a=n(4848),t=n(8453);const i={},o="Monitoring complet d'une application Python et MariaDB via Grafana/Prometheus",l={},d=[{value:"Sommaire",id:"sommaire",level:2},{value:"R\xe9sum\xe9",id:"r\xe9sum\xe9",level:2},{value:"Sch\xe9ma de l\u2019architecture",id:"sch\xe9ma-de-larchitecture",level:2},{value:"Sur la VM Ubuntu (App + MariaDB)",id:"sur-la-vm-ubuntu-app--mariadb",level:2},{value:"a. Installer Node Exporter (monitoring syst\xe8me)",id:"a-installer-node-exporter-monitoring-syst\xe8me",level:3},{value:"b. Installer mysqld_exporter (monitoring MariaDB)",id:"b-installer-mysqld_exporter-monitoring-mariadb",level:3},{value:"c. Exposer les m\xe9triques de l\u2019application Python",id:"c-exposer-les-m\xe9triques-de-lapplication-python",level:3},{value:"Sur la VM Debian (Monitoring)",id:"sur-la-vm-debian-monitoring",level:2},{value:"a. Installer Prometheus",id:"a-installer-prometheus",level:3},{value:"b. Configurer Prometheus pour scraper la VM Ubuntu",id:"b-configurer-prometheus-pour-scraper-la-vm-ubuntu",level:3},{value:"c. Installer Grafana",id:"c-installer-grafana",level:3},{value:"d. Connecter Grafana \xe0 Prometheus",id:"d-connecter-grafana-\xe0-prometheus",level:3},{value:"Cr\xe9er et importer des dashboards Grafana",id:"cr\xe9er-et-importer-des-dashboards-grafana",level:2},{value:"Ressources",id:"ressources",level:2}];function c(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"monitoring-complet-dune-application-python-et-mariadb-via-grafanaprometheus",children:"Monitoring complet d'une application Python et MariaDB via Grafana/Prometheus"})}),"\n",(0,a.jsx)(r.p,{children:"Ce guide d\xe9taille comment monitorer\u202f:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"Une VM Ubuntu Server h\xe9bergeant \xe0 la fois l\u2019application Python et la base MariaDB"}),"\n",(0,a.jsxs)(r.li,{children:["Depuis une VM Debian (vierge, sauf openssh-server) qui h\xe9berge ",(0,a.jsx)(r.strong,{children:"Prometheus"})," et ",(0,a.jsx)(r.strong,{children:"Grafana"})]}),"\n"]}),"\n",(0,a.jsxs)(r.blockquote,{children:["\n",(0,a.jsx)(r.p,{children:(0,a.jsxs)(r.strong,{children:["\xc0 chaque fois que tu vois une adresse IP (exemple\u202f: ",(0,a.jsx)(r.code,{children:"192.168.1.100"})," ou ",(0,a.jsx)(r.code,{children:"192.168.1.90"}),"), ADAPTE-LA \xe0 ton propre r\xe9seau !"]})}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"sommaire",children:"Sommaire"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"#r%C3%A9sum%C3%A9",children:"R\xe9sum\xe9"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"#sch%C3%A9ma-de-larchitecture",children:"Sch\xe9ma de l\u2019architecture"})}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"#sur-la-vm-ubuntu-app--mariadb",children:"Sur la VM Ubuntu (App + MariaDB)"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"a. Installer Node Exporter (monitoring syst\xe8me)"}),"\n",(0,a.jsx)(r.li,{children:"b. Installer mysqld_exporter (monitoring MariaDB)"}),"\n",(0,a.jsx)(r.li,{children:"c. Exposer les m\xe9triques de l\u2019application Python"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.a,{href:"#sur-la-vm-debian-monitoring",children:"Sur la VM Debian (Monitoring)"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:"a. Installer Prometheus"}),"\n",(0,a.jsx)(r.li,{children:"b. Configurer Prometheus pour scraper la VM Ubuntu"}),"\n",(0,a.jsx)(r.li,{children:"c. Installer Grafana"}),"\n",(0,a.jsx)(r.li,{children:"d. Connecter Grafana \xe0 Prometheus"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"#cr%C3%A9er-et-importer-des-dashboards-grafana",children:"Cr\xe9er et importer des dashboards Grafana"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"#ressources",children:"Ressources"})}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"r\xe9sum\xe9",children:"R\xe9sum\xe9"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"VM Ubuntu"})," : h\xe9berge MariaDB, ton application Python, node_exporter et mysqld_exporter"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"VM Debian"})," : installation de Prometheus et Grafana, configuration pour superviser la VM Ubuntu"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Monitoring"})," : \xe9tat syst\xe8me, \xe9tat MariaDB, \xe9tat et statistiques de l\u2019application Python (uptime, requ\xeates, etc.)"]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"sch\xe9ma-de-larchitecture",children:"Sch\xe9ma de l\u2019architecture"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"[ VM Ubuntu ]\n\u251c\u2500 Application Python (port 5000)\n\u251c\u2500 MariaDB\n\u251c\u2500 Node Exporter (port 9100)\n\u2514\u2500 mysqld_exporter (port 9104)\n\u2502\n\u25bc\n[ R\xe9seau local ]\n\u2502\n\u25bc\n[ VM Debian ]\n\u251c\u2500 Prometheus (port 9090)\n\u2514\u2500 Grafana (port 3000)\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"sur-la-vm-ubuntu-app--mariadb",children:"Sur la VM Ubuntu (App + MariaDB)"}),"\n",(0,a.jsx)(r.h3,{id:"a-installer-node-exporter-monitoring-syst\xe8me",children:"a. Installer Node Exporter (monitoring syst\xe8me)"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"cd /opt\nwget https://github.com/prometheus/node_exporter/releases/download/v1.8.1/node_exporter-1.8.1.linux-amd64.tar.gz\ntar xvf node_exporter-1.8.1.linux-amd64.tar.gz\nsudo mv node_exporter-1.8.1.linux-amd64/node_exporter /usr/local/bin/\n"})}),"\n",(0,a.jsx)(r.p,{children:"Cr\xe9er un service systemd\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo nano /etc/systemd/system/node_exporter.service\n"})}),"\n",(0,a.jsx)(r.p,{children:"Contenu\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nUser=nobody\nExecStart=/usr/local/bin/node_exporter\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,a.jsx)(r.p,{children:"Activer et d\xe9marrer\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nsudo systemctl enable node_exporter\nsudo systemctl start node_exporter\n"})}),"\n",(0,a.jsxs)(r.p,{children:["V\xe9rifie sur\u202f: ",(0,a.jsx)(r.code,{children:"http://192.168.1.100:9100/metrics"})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"b-installer-mysqld_exporter-monitoring-mariadb",children:"b. Installer mysqld_exporter (monitoring MariaDB)"}),"\n",(0,a.jsxs)(r.p,{children:[(0,a.jsx)(r.strong,{children:"1. Cr\xe9er un utilisateur MariaDB pour l\u2019exporter"}),"\nConnecte-toi \xe0 MariaDB\u202f:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo mariadb\n"})}),"\n",(0,a.jsx)(r.p,{children:"Dans le shell MariaDB\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-sql",children:"CREATE USER 'exporter'@'localhost' IDENTIFIED BY 'motdepasse_exporter';\nGRANT PROCESS, REPLICATION CLIENT, SELECT ON *.* TO 'exporter'@'localhost';\nFLUSH PRIVILEGES;\nEXIT;\n"})}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"2. Installer mysqld_exporter"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"cd /opt\nwget https://github.com/prometheus/mysqld_exporter/releases/download/v0.15.1/mysqld_exporter-0.15.1.linux-amd64.tar.gz\ntar xvf mysqld_exporter-0.15.1.linux-amd64.tar.gz\nsudo mv mysqld_exporter-0.15.1.linux-amd64/mysqld_exporter /usr/local/bin/\n"})}),"\n",(0,a.jsx)(r.p,{children:"Cr\xe9er le fichier de config\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo nano /etc/.mysqld_exporter.cnf\n"})}),"\n",(0,a.jsx)(r.p,{children:"Contenu\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"[client]\nuser=exporter\npassword=motdepasse_exporter\n"})}),"\n",(0,a.jsx)(r.p,{children:"Prot\xe9ger le fichier\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo chmod 600 /etc/.mysqld_exporter.cnf\n"})}),"\n",(0,a.jsx)(r.p,{children:"Cr\xe9er le service systemd\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo nano /etc/systemd/system/mysqld_exporter.service\n"})}),"\n",(0,a.jsx)(r.p,{children:"Contenu\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:"[Unit]\nDescription=Prometheus MySQL Exporter\nAfter=network.target\n\n[Service]\nUser=nobody\nExecStart=/usr/local/bin/mysqld_exporter --config.my-cnf=/etc/.mysqld_exporter.cnf\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,a.jsx)(r.p,{children:"Activer et d\xe9marrer\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nsudo systemctl enable mysqld_exporter\nsudo systemctl start mysqld_exporter\n"})}),"\n",(0,a.jsxs)(r.p,{children:["V\xe9rifie sur\u202f: ",(0,a.jsx)(r.code,{children:"http://192.168.1.100:9104/metrics"})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"c-exposer-les-m\xe9triques-de-lapplication-python",children:"c. Exposer les m\xe9triques de l\u2019application Python"}),"\n",(0,a.jsx)(r.p,{children:"Dans ton projet Flask, installe l\u2019exporter Prometheus\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"pip install prometheus_flask_exporter\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Dans ",(0,a.jsx)(r.code,{children:"app.py"}),"\u202f:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-python",children:"from flask import Flask\nfrom prometheus_flask_exporter import PrometheusMetrics\n\napp = Flask(__name__)\nmetrics = PrometheusMetrics(app)\n\n@app.route('/')\ndef index():\n    return \"Hello, world!\"\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0')\n"})}),"\n",(0,a.jsxs)(r.p,{children:["Les m\xe9triques seront disponibles sur\u202f:\n",(0,a.jsx)(r.code,{children:"http://192.168.1.100:5000/metrics"})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"sur-la-vm-debian-monitoring",children:"Sur la VM Debian (Monitoring)"}),"\n",(0,a.jsx)(r.h3,{id:"a-installer-prometheus",children:"a. Installer Prometheus"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo apt update\nsudo apt install prometheus -y\n"})}),"\n",(0,a.jsx)(r.p,{children:"Prometheus \xe9coute sur le port 9090."}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"b-configurer-prometheus-pour-scraper-la-vm-ubuntu",children:"b. Configurer Prometheus pour scraper la VM Ubuntu"}),"\n",(0,a.jsxs)(r.p,{children:["\xc9dite ",(0,a.jsx)(r.code,{children:"/etc/prometheus/prometheus.yml"})," et ajoute dans ",(0,a.jsx)(r.code,{children:"scrape_configs"}),"\u202f:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-yaml",children:"scrape_configs:\n  - job_name: 'node_exporter'\n    static_configs:\n      - targets: ['192.168.1.100:9100']\n  - job_name: 'mysqld_exporter'\n    static_configs:\n      - targets: ['192.168.1.100:9104']\n  - job_name: 'python_app'\n    metrics_path: /metrics\n    static_configs:\n      - targets: ['192.168.1.100:5000']\n"})}),"\n",(0,a.jsx)(r.p,{children:"Red\xe9marre Prometheus\u202f:"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:"sudo systemctl restart prometheus\n"})}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"c-installer-grafana",children:"c. Installer Grafana"}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-bash",children:'sudo apt-get install -y apt-transport-https software-properties-common wget\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho "deb https://packages.grafana.com/oss/deb stable main" | sudo tee /etc/apt/sources.list.d/grafana.list\nsudo apt update\nsudo apt install grafana -y\nsudo systemctl enable grafana-server\nsudo systemctl start grafana-server\n'})}),"\n",(0,a.jsxs)(r.p,{children:["Grafana est accessible sur\u202f:\n",(0,a.jsx)(r.code,{children:"http://192.168.1.90:3000"}),"\nIdentifiants par d\xe9faut\u202f: ",(0,a.jsx)(r.code,{children:"admin"})," / ",(0,a.jsx)(r.code,{children:"admin"})]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h3,{id:"d-connecter-grafana-\xe0-prometheus",children:"d. Connecter Grafana \xe0 Prometheus"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsx)(r.li,{children:"Connecte-toi \xe0 Grafana"}),"\n",(0,a.jsxs)(r.li,{children:["Va dans ",(0,a.jsx)(r.strong,{children:"Configuration > Data Sources > Add data source"})]}),"\n",(0,a.jsxs)(r.li,{children:["Choisis ",(0,a.jsx)(r.strong,{children:"Prometheus"})]}),"\n",(0,a.jsxs)(r.li,{children:["Renseigne l\u2019URL\u202f: ",(0,a.jsx)(r.code,{children:"http://localhost:9090"})]}),"\n",(0,a.jsxs)(r.li,{children:["Clique sur ",(0,a.jsx)(r.strong,{children:"Save & Test"})]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"cr\xe9er-et-importer-des-dashboards-grafana",children:"Cr\xe9er et importer des dashboards Grafana"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Pour le monitoring syst\xe8me (Node Exporter)"}),"\u202f:","\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Dashboard ID\u202f: ",(0,a.jsx)(r.strong,{children:"1860"})," (",(0,a.jsx)(r.a,{href:"https://grafana.com/grafana/dashboards/1860-node-exporter-full/",children:"Node Exporter Full"}),")"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Pour MariaDB/MySQL"}),"\u202f:","\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Dashboard ID\u202f: ",(0,a.jsx)(r.strong,{children:"7362"})," (",(0,a.jsx)(r.a,{href:"https://grafana.com/grafana/dashboards/7362-mysql-overview/",children:"MySQL Overview"}),")"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Pour l\u2019application Python"}),"\u202f:","\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:["Cr\xe9e tes propres graphes \xe0 partir des m\xe9triques expos\xe9es par ",(0,a.jsx)(r.code,{children:"prometheus_flask_exporter"})," (ex\u202f: requ\xeates, uptime, erreurs\u2026)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(r.p,{children:"Pour importer un dashboard\u202f:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["Va dans ",(0,a.jsx)(r.strong,{children:"Dashboard > Import"})]}),"\n",(0,a.jsx)(r.li,{children:"Entre l\u2019ID du dashboard"}),"\n",(0,a.jsx)(r.li,{children:"S\xe9lectionne ta source de donn\xe9es Prometheus"}),"\n",(0,a.jsxs)(r.li,{children:["Clique sur ",(0,a.jsx)(r.strong,{children:"Import"})]}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.h2,{id:"ressources",children:"Ressources"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"https://prometheus.io/docs/",children:"Documentation officielle Prometheus"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"https://grafana.com/docs/",children:"Documentation officielle Grafana"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"https://github.com/rycus86/prometheus_flask_exporter",children:"Exporter Flask pour Prometheus"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"https://grafana.com/grafana/dashboards/1860-node-exporter-full/",children:"Node Exporter Dashboard (ID 1860)"})}),"\n",(0,a.jsx)(r.li,{children:(0,a.jsx)(r.a,{href:"https://grafana.com/grafana/dashboards/7362-mysql-overview/",children:"MariaDB/MySQL Dashboard (ID 7362)"})}),"\n"]}),"\n",(0,a.jsx)(r.hr,{}),"\n",(0,a.jsx)(r.p,{children:(0,a.jsx)(r.strong,{children:"Avec ce setup, tu supervises l\u2019\xe9tat de ta VM Ubuntu (app + MariaDB) et de ton application Python depuis une VM Debian d\xe9di\xe9e au monitoring, avec une interface web moderne, centralis\xe9e et accessible depuis n\u2019importe quel navigateur."})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>o});var s=n(6540);const a={},t=s.createContext(a);function i(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);